(()=>{"use strict";var e={266:()=>{function e(e,t,a){return{width:t,height:a,src:"".concat(lyntouchGlobal.siteUrl,"/media?image=").concat(e,"&args[w]=").concat(t,"&args[h]=").concat(a,"&args[fit]=crop"),srcSet:"".concat(lyntouchGlobal.siteUrl,"/media?image=").concat(e,"&args[w]=").concat(t,"&args[h]=").concat(a,"&args[fit]=crop, ").concat(lyntouchGlobal.siteUrl,"/media?image=").concat(e,"&args[w]=").concat(2*t,"&args[h]=").concat(2*a,"&args[fit]=crop 2x")}}var t=wp.components.Button,a=wp.blockEditor,n=a.InspectorControls,l=a.MediaUploadCheck,c=a.MediaUpload,i=wp.components,r=i.PanelBody,o=i.TextControl;var s=wp.i18n.__;(0,wp.blocks.registerBlockType)("lyntouch/wp-media",{title:s("Lyntouch - Image Block"),icon:"shield",category:"common",attributes:{image:{type:"object",selector:"responsive-image"},imageParams:{type:"object",default:{width:null,height:null,mediaWidth:null}},variations:{type:"string",default:"[]"}},keywords:[s("lyntouch-blocks")],edit:function(e){var a=e.attributes,i=e.className,s=e.setAttributes,u=a.image,m=a.variations;var h=JSON.parse(m);return[React.createElement(n,null,React.createElement(r,{title:"Image Size Variations"},h.map((function(e,t){return React.createElement("div",{className:"flex flex-wrap border"},React.createElement(o,{className:"w-1/2",label:"Width",type:"number",value:e.width,onChange:function(e){h[t].width=e,s({variations:JSON.stringify(h)})},min:150,max:3e3}),React.createElement(o,{label:"Height",type:"number",className:"w-1/2",value:e.height,onChange:function(e){h[t].height=e,s({variations:JSON.stringify(h)})},min:150,max:2e3}),React.createElement(o,{label:"Media",type:"string",className:"w-full",value:e.media,onChange:function(e){h[t].media=e,s({variations:JSON.stringify(h)})}}))})),React.createElement(t,{onClick:function(){var e=JSON.parse(m),t={width:null,height:null,media:null};console.log(e),e.includes(t)||(e.push(t),s({variations:JSON.stringify(e)}))},className:"button"},"Add Variation"))),React.createElement("div",{className:i},React.createElement(l,null,React.createElement(c,{className:"js-book-details-image wp-admin-book-details-image",allowedTypes:["image"],multiple:!1,value:u?u.id:"",onSelect:function(e){return s({image:e})},render:function(e){var a=e.open;return u?React.createElement("figure",null,React.createElement("img",{src:u.url,width:u.width/2}),React.createElement(t,{onClick:function(){return s({image:""})},className:"button is-small"},"Remove")):React.createElement(t,{onClick:a,className:"button"},"Upload Image")}})))]},save:function(t){var a=t.attributes,n=a.image,l=a.variations,c=JSON.parse(l),i=n.sizes.full.url.replace("".concat(lyntouchGlobal.siteUrl,"/wp-content/uploads/"),""),r=c.length>0?e(i,c[0].width,c[0].height):n.sizes.full.url;return React.createElement("picture",null,c.map((function(t){var a=e(i,t.width,t.height);return React.createElement("source",{srcSet:a.srcSet,media:"(".concat(t.media,")")})})),React.createElement("img",{src:r.src,alt:n.alt?n.alt:n.title,width:r.width,height:r.height}))}})},889:()=>{},596:()=>{},707:()=>{},46:()=>{}},t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}a.m=e,a.x=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={881:0},t=[[266],[889],[596],[707],[46]],n=e=>{},l=(l,c)=>{for(var i,r,[o,s,u,m]=c,h=0,g=[];h<o.length;h++)r=o[h],a.o(e,r)&&e[r]&&g.push(e[r][0]),e[r]=0;for(i in s)a.o(s,i)&&(a.m[i]=s[i]);for(u&&u(a),l&&l(c);g.length;)g.shift()();return m&&t.push.apply(t,m),n()},c=self.webpackChunklyntouch_blocks_cgb_guten_block=self.webpackChunklyntouch_blocks_cgb_guten_block||[];function i(){for(var n,l=0;l<t.length;l++){for(var c=t[l],i=!0,r=1;r<c.length;r++){var o=c[r];0!==e[o]&&(i=!1)}i&&(t.splice(l--,1),n=a(a.s=c[0]))}return 0===t.length&&(a.x(),a.x=e=>{}),n}c.forEach(l.bind(null,0)),c.push=l.bind(null,c.push.bind(c));var r=a.x;a.x=()=>(a.x=r||(e=>{}),(n=i)())})(),a.x()})();