!function(e){function t(a){if(n[a])return n[a].exports;var l=n[a]={i:a,l:!1,exports:{}};return e[a].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(2)},function(e,t,n){"use strict";var a=n(0),l=(n.n(a),n(3)),i=(n.n(l),n(4)),r=n(5),__=wp.i18n.__;(0,wp.blocks.registerBlockType)("lyntouch/wp-media",{title:__("Lyntouch - Image Block"),icon:"shield",category:"common",attributes:{image:{type:"object",selector:"responsive-image"},imageParams:{type:"object",default:{width:null,height:null,mediaWidth:null}},variations:{type:"string",default:"[]"}},keywords:[__("lyntouch-blocks")],edit:r.a,save:i.a})},function(e,t){},function(e,t,n){"use strict";function a(e,t,n){return{width:t,height:n,src:lyntouchGlobal.siteUrl+"/media?image="+e+"&args[w]="+t+"&args[h]="+n+"&args[fit]=crop",srcSet:lyntouchGlobal.siteUrl+"/media?image="+e+"&args[w]="+t+"&args[h]="+n+"&args[fit]=crop, "+lyntouchGlobal.siteUrl+"/media?image="+e+"&args[w]="+2*t+"&args[h]="+2*n+"&args[fit]=crop 2x"}}t.a=function(e){var t=e.attributes,n=t.image,l=t.variations,i=JSON.parse(l),r=n.sizes.full.url.replace(lyntouchGlobal.siteUrl+"/wp-content/uploads/",""),o=i.length>0?a(r,i[0].width,i[0].height):n.sizes.full.url;return wp.element.createElement("picture",null,i.map(function(e){var t=a(r,e.width,e.height);return wp.element.createElement("source",{srcSet:t.srcSet,media:"("+e.media+")"})}),wp.element.createElement("img",{src:o.src,alt:n.alt?n.alt:n.title,width:o.width,height:o.height}))}},function(e,t,n){"use strict";var a=n(0),l=(n.n(a),wp.components.Button),i=wp.blockEditor,r=i.InspectorControls,o=i.MediaUploadCheck,s=i.MediaUpload,c=wp.components,u=c.PanelBody,m=c.TextControl;t.a=function(e){function t(){var e=JSON.parse(p),t={width:null,height:null,media:null};console.log(e),e.includes(t)||(e.push(t),i({variations:JSON.stringify(e)}))}var n=e.attributes,a=e.className,i=e.setAttributes,c=n.image,p=n.variations,d=JSON.parse(p);return[wp.element.createElement(r,null,wp.element.createElement(u,{title:"Image Size Variations"},d.map(function(e,t){return wp.element.createElement("div",{className:"flex flex-wrap border"},wp.element.createElement(m,{className:"w-1/2",label:"Width",type:"number",value:e.width,onChange:function(e){d[t].width=e,i({variations:JSON.stringify(d)})},min:150,max:3e3}),wp.element.createElement(m,{label:"Height",type:"number",className:"w-1/2",value:e.height,onChange:function(e){d[t].height=e,i({variations:JSON.stringify(d)})},min:150,max:2e3}),wp.element.createElement(m,{label:"Media",type:"string",className:"w-full",value:e.media,onChange:function(e){d[t].media=e,i({variations:JSON.stringify(d)})}}))}),wp.element.createElement(l,{onClick:t,className:"button"},"Add Variation"))),wp.element.createElement("div",{className:a},wp.element.createElement(o,null,wp.element.createElement(s,{className:"js-book-details-image wp-admin-book-details-image",allowedTypes:["image"],multiple:!1,value:c?c.id:"",onSelect:function(e){return i({image:e})},render:function(e){var t=e.open;return c?wp.element.createElement("figure",null,wp.element.createElement("img",{src:c.url,width:c.width/2}),wp.element.createElement(l,{onClick:function(){return i({image:""})},className:"button is-small"},"Remove")):wp.element.createElement(l,{onClick:t,className:"button"},"Upload Image")}})))]}}]);